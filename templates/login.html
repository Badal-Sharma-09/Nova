{% extends "base.html" %}
{% block wrapper %}
  <div class="w-full">
    {% block content %}
<div class="min-h-screen bg-gray-100 py-6 flex flex-col justify-center sm:py-12">
  <div class="relative py-3 sm:max-w-xl sm:mx-auto">
    <div
      class="absolute inset-0 bg-gradient-to-r from-cyan-400 to-sky-500 shadow-lg transform -skew-y-6 sm:skew-y-0 sm:-rotate-6 sm:rounded-3xl">
    </div>
    <div class="relative px-4 py-10 bg-white shadow-lg sm:rounded-3xl sm:p-20">
      <div class="max-w-md mx-auto">
        <h1 class="text-2xl font-semibold mb-6 text-center">Login</h1>

        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            {% for category, message in messages %}
              <div class="mb-4 text-sm text-white px-4 py-2 rounded {{ 'bg-red-500' if category == 'error' else 'bg-green-500' }}">
                {{ message }}
              </div>
            {% endfor %}
          {% endif %}
        {% endwith %}

        <form method="POST" action="{{ url_for('auth.login') }}">
          {{ form.hidden_tag() }}
          <div class="divide-y divide-gray-200">
            <div class="py-8 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7">
        
              <div class="relative">
                {{ form.username(class="peer placeholder-transparent h-10 w-full border-b-2 border-gray-300 text-gray-900 focus:outline-none focus:border-cyan-600", placeholder="Username") }}
                <label for="username"
                  class="absolute left-0 -top-3.5 text-gray-600 text-sm peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-440 peer-placeholder-shown:top-2 transition-all peer-focus:-top-3.5 peer-focus:text-gray-600 peer-focus:text-sm">
                  Username
                </label>
              </div>
        
              <div class="relative">
                {{ form.password(class="peer placeholder-transparent h-10 w-full border-b-2 border-gray-300 text-gray-900 focus:outline-none focus:border-cyan-600", placeholder="Password") }}
                <label for="password"
                  class="absolute left-0 -top-3.5 text-gray-600 text-sm peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-440 peer-placeholder-shown:top-2 transition-all peer-focus:-top-3.5 peer-focus:text-gray-600 peer-focus:text-sm">
                  Password
                </label>
              </div>
        
              <!-- Forgot Password Link -->
              <div class="flex justify-end">
                <a href="{{ url_for('forgot.forgot_password') }}" class="text-sm text-blue-500 hover:underline">
                  Forgot Password?
                </a>
              </div>
        
              <div class="relative">
                <button type="submit"
                  class="bg-cyan-500 text-white rounded-md px-4 py-2 w-full hover:bg-cyan-600">
                  Login
                </button>
              </div>
            </div>
          </div>
        </form>         

        <div class="w-full flex justify-center mt-4">
          <a href="{{ url_for('auth.google_login') }}"
            class="flex items-center bg-white border border-gray-300 rounded-lg shadow-md px-6 py-2 text-sm font-medium text-gray-800 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500">
            <!-- Google Icon -->
            <svg class="h-6 w-6 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="-0.5 0 48 48">
              <path fill="#FBBC05" d="M9.83,24c0-1.52,0.25-2.98,0.71-4.36L2.62,13.6C1.08,16.73,0.21,20.26,0.21,24c0,3.74,0.87,7.26,2.41,10.39l7.91-6.05C10.08,26.97,9.83,25.52,9.83,24z"/>
              <path fill="#EB4335" d="M23.71,10.13c3.31,0,6.3,1.17,8.65,3.1l6.84-6.83C35.04,2.77,29.7,0.53,23.71,0.53c-9.29,0-17.27,5.31-21.09,13.07l7.91,6.04C12.35,14.11,17.55,10.13,23.71,10.13z"/>
              <path fill="#34A853" d="M23.71,37.87c-6.16,0-11.36-3.98-13.18-9.51l-7.91,6.04c3.82,7.76,11.8,13.08,21.09,13.08c5.74,0,11.22-2.03,15.31-5.82l-7.5-5.8C29.4,37.15,26.73,37.87,23.71,37.87z"/>
              <path fill="#4285F4" d="M46.15,24c0-1.39-0.22-2.73-0.53-4.04H23.71v9.07h12.6c-0.63,3.11-2.35,5.5-4.79,7.05l7.5,5.8C43.34,37.61,46.15,31.65,46.15,24z"/>
            </svg>
            <span>Continue with Google</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
</div>
{% endblock %}
